{% extends 'base.html' %}
{% block title %}Submit Feedback{% endblock %}
{% block content %}

<body>

<div class="container">
  <div class="page-header">
    <h1>Submit Feedback</h1>
  </div>
  <form method="post" action="/sendIssuetoGH">
		<div class="form-row">
			
			<div class="form-group col-md-6 col-sm-6">
				<div class="form-group">
			  	<label for="type">Type of request</label>
			  	<select class="form-control" id="type" name="type" placeholder="enhancement" value required>
			  		<option value="enhancement">Enhancement request</option>
			  		<option value="bug">Error report</option>
			  		<option value="documentation">Request for documentation</option>
			  		<option value="question">Other question</option>
			  	</select>
			  </div>
			</div>
			<div class="form-group col-md-6 col-sm-6">
				<div class="form-group">
				  	<label for="priority">Priority</label>
				  	<select class="form-control" id="priority" name="priority" placeholder="LOW" value required>
				  		<option value="LOW">Low</option>
				  		<option value="MEDIUM">Medium</option>
				  		<option value="HIGH">High</option>
				  	</select>
				</div>
			</div>
		</div>
		
		
		<div class="form-group col-md-12 col-sm-12">
			<div class="form-group">
		    <label for="subject">Subject</label>
		    <input type="text" class="form-control" id="subject" name="subject" placeholder="Enter a short summary of your request" required>
		  </div>
		  <div class="form-group">
		  	<label for="description">Description</label>
		    <textarea class="form-control" id="description" name="description" rows="3" placeholder="Please enter as much information as necessary to describe your request." required></textarea>
		  </div>
		</div>
		
		<div class="form-group col-md-12 col-sm-12">
			<div class="form-group">
				<h5><b>Your request will be submitted to the project issue tracker, which is hosted on <a href="https://github.com/nathanbollig/rt-quic-db/issues">GitHub</a>. Please check below if you would like to include your contact information with this request.</b></h5>
			</div>
			
			<div class="form-group">
				<div class="form-check">
					<input class="form-check-input" type="checkbox" value="" id="incl_pers_info" name="incl_pers_info">
					<label class="form-check-label" for="incl_pers_info" style="font-weight:normal;">
						Submit my name, user role, and email address with this feedback.
					</label>
				</div>
			</div>
		
		</div>
		
		<div class="form-group col-md-12 col-sm-12">
			<div class="form-group">
				<button class="btn btn-primary" type="submit" id="submitButton">Submit</button>
				<button class="btn btn-link" type ="button" id="cancel" onclick="location.href='/enhancementRequest'">Clear form</button>
			</div>
			
				{% with messages = get_flashed_messages() %}
			  {% if messages %}
			    <ul class=flashes>
			    {% for message in messages %}
			      <li>{{ message }}</li>
			    {% endfor %}
			    </ul>
			  {% endif %}
				{% endwith %}
		</div>
			
	</form>
	
	</div>
	
	<script>
		// Declare selector
		var loc_selector = document.getElementById('loc_ID');

	
		// Populate selector with available records
		var locations = {{ locations | tojson | safe}};
	
		var loc_ID = '{{loc_ID}}';
		
		for(index in locations) {
		    loc_selector.options[loc_selector.options.length] = new Option(locations[index], index);
		}
		
		if (loc_ID !== '') {
			loc_selector.value = loc_ID;
		} else {
			loc_selector.value = "empty";
		};
		
	</script>


</body>
{% endblock %}